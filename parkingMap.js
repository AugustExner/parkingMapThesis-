const map = L.map("map").setView([56.17254, 10.189626], 18);
let parkingSpots = [];
let parkingCircles = {}; // Store circles by SpotID
let walkingCoordsArray = [
  //START SLUT Helsingforsgade
  // { lat: 56.171378, lng: 10.190248 },
  // { lat: 56.171788, lng: 10.187843 },
  // //BIL 1 Helsingforsgade
  // { lat: 56.171511, lng: 10.189496 },
  // { lat: 56.171627, lng: 10.189445 },
  // //BIL 2 Helsingforsgade
  // { lat: 56.171709, lng: 10.188522 },
  // { lat: 56.171856, lng: 10.188469 },
  // //START SLUT Findlandsgade
  // { lat: 56.17321, lng: 10.191221 },
  // { lat: 56.171499, lng: 10.190689 },
  // //BIL 1 Findlandsgade
  // { lat: 56.172735, lng: 10.19085 },
  // { lat: 56.172635, lng: 10.191075 },
  // //BIL 2 Findlandsgade
  // { lat: 56.172504, lng: 10.190785 },
  // { lat: 56.172472, lng: 10.190895 },
  //DEBUG - START/SLUT FINDLANDSGADE
  // { lat: 56.171588723, lng: 10.190328373 },
  // { lat: 56.171579336, lng: 10.190250421 },
  // //DEBUG Bil 1 FINDLANDSGADE
  // { lat: 56.171588723, lng: 10.190328373 },
  // { lat: 56.171579336, lng: 10.190250421 },
  // //DEBUG Bil 2 FINDLANDSGADE
  // { lat: 56.17158147, lng: 10.19017004 },
  // { lat: 56.171587902, lng: 10.19009455 },
  // //DEBUG Bil 3 FINDLANDSGADE
  // { lat: 56.171587902, lng: 10.19009455 },
  // { lat: 56.171603129, lng: 10.190022461 },
  // //DEBUG Bil 4 FINDLANDSGADE
  // { lat: 56.171676896, lng: 10.189646581 },
  // { lat: 56.171692074, lng: 10.189546889 },
];

let googleCoordsArray = [
  // //START SLUT Helsingforsgade
  // { lat: 56.17138958576229, lng: 10.190254347702766 },
  // { lat: 56.171798258539255, lng: 10.187848628997688 },
  // //BIL 1 Helsingforsgade
  // { lat: 56.171517728447064, lng: 10.189499686305172 },
  // { lat: 56.17153552375556, lng: 10.189394883149424 },
  // //BIL 2 Helsingforsgade
  // { lat: 56.17168590036385, lng: 10.1885093245117 },
  // { lat: 56.171706691353414, lng: 10.188387069898583 },
  // //START SLUT Findlandsgade
  // { lat: 56.17320966989646, lng: 10.191223428358908 },
  // { lat: 56.17152680907173, lng: 10.19048736251823 },
  // //BIL 1 Findlandsgade
  // { lat: 56.17271394314883, lng: 10.191008037104071 },
  // { lat: 56.172647720395545, lng: 10.190979559854659 },
  // //BIL 2 Findlandsgade
  // { lat: 56.17248726614212, lng: 10.190910553809806 },
  // { lat: 56.17247086696555, lng: 10.19090350110208 },
];

let magnusArray1 = [
  // { lat: 56.172725737, lng: 10.190842108 },
  // { lat: 56.171682952, lng: 10.190366013 },
  // //BIL

  // { lat: 56.171676045, lng: 10.187816354 },

  // { lat: 56.171727897, lng: 10.187830197 },

  // { lat: 56.171834773, lng: 10.187855684 },

  // { lat: 56.171921773, lng: 10.187889839 },

  //BIL 1
  { lat: 56.171514, lng: 10.187668 },
  { lat: 56.172074, lng: 10.187904 },
  { lat: 56.172817398, lng: 10.188104798 },
  { lat: 56.17282127, lng: 10.188108345 },
  { lat: 56.17282127, lng: 10.188108345 },
  { lat: 56.172827407, lng: 10.188114329 },
  { lat: 56.172827407, lng: 10.188114329 },
  { lat: 56.172821864, lng: 10.188119706 },
  { lat: 56.172821864, lng: 10.188119706 },
  { lat: 56.172823611, lng: 10.188138035 },
  { lat: 56.172823611, lng: 10.188138035 },
  { lat: 56.172830478, lng: 10.188138224 },
  { lat: 56.172830478, lng: 10.188138224 },
  { lat: 56.172830933, lng: 10.188156578 },
  { lat: 56.172830933, lng: 10.188156578 },
  { lat: 56.172833993, lng: 10.188168704 },
  { lat: 56.172930484, lng: 10.187979901 },
  { lat: 56.172933159, lng: 10.18797152 },
  { lat: 56.172933159, lng: 10.18797152 },
  { lat: 56.172932985, lng: 10.187964732 },
  { lat: 56.172932985, lng: 10.187964732 },
  { lat: 56.172925406, lng: 10.187969154 },
  { lat: 56.172925406, lng: 10.187969154 },
  { lat: 56.172924614, lng: 10.187966457 },
  { lat: 56.172924614, lng: 10.187966457 },
  { lat: 56.172924406, lng: 10.187972304 },
  { lat: 56.172924406, lng: 10.187972304 },
  { lat: 56.172935536, lng: 10.187980005 },
  { lat: 56.172935536, lng: 10.187980005 },
  { lat: 56.172947318, lng: 10.187975237 },
  { lat: 56.172947318, lng: 10.187975237 },
  { lat: 56.172958635, lng: 10.187975275 },
  { lat: 56.172958635, lng: 10.187975275 },
  { lat: 56.172963658, lng: 10.18796709 },
  { lat: 56.172963658, lng: 10.18796709 },
  { lat: 56.172965475, lng: 10.187969228 },
  { lat: 56.172965475, lng: 10.187969228 },
  { lat: 56.172970505, lng: 10.187967886 },
  { lat: 56.172970505, lng: 10.187967886 },
  { lat: 56.172966473, lng: 10.187969066 },
  { lat: 56.172966473, lng: 10.187969066 },
  { lat: 56.172960947, lng: 10.187978243 },
  { lat: 56.172960947, lng: 10.187978243 },
  { lat: 56.172958308, lng: 10.187980598 },
  { lat: 56.172958308, lng: 10.187980598 },
  { lat: 56.172945251, lng: 10.187985084 },
  { lat: 56.172945251, lng: 10.187985084 },
  { lat: 56.172943741, lng: 10.187989108 },
  { lat: 56.172943741, lng: 10.187989108 },
  { lat: 56.172943125, lng: 10.187986889 },
  { lat: 56.172943125, lng: 10.187986889 },
  { lat: 56.172943236, lng: 10.18797088 },
  { lat: 56.172943236, lng: 10.18797088 },
  { lat: 56.172941138, lng: 10.187968804 },
  { lat: 56.172941138, lng: 10.187968804 },
  { lat: 56.172939246, lng: 10.187977446 },
  { lat: 56.172939246, lng: 10.187977446 },
  { lat: 56.172938379, lng: 10.187974801 },
  { lat: 56.172938379, lng: 10.187974801 },
  { lat: 56.172939739, lng: 10.18796967 },
  { lat: 56.172939739, lng: 10.18796967 },
  { lat: 56.172940372, lng: 10.187974603 },
  { lat: 56.172940372, lng: 10.187974603 },
  { lat: 56.172941559, lng: 10.187969801 },
  { lat: 56.172941559, lng: 10.187969801 },
  { lat: 56.172937813, lng: 10.187955279 },
  { lat: 56.172937813, lng: 10.187955279 },
  { lat: 56.172936132, lng: 10.1879515 },
  { lat: 56.172936132, lng: 10.1879515 },
  { lat: 56.17293614, lng: 10.187942354 },
  { lat: 56.17293614, lng: 10.187942354 },
  { lat: 56.172933012, lng: 10.187945543 },
  { lat: 56.172933012, lng: 10.187945543 },
  { lat: 56.172936439, lng: 10.187936171 },
  { lat: 56.172936439, lng: 10.187936171 },
  { lat: 56.172942752, lng: 10.187949601 },
  { lat: 56.172942752, lng: 10.187949601 },
  { lat: 56.172939486, lng: 10.187946667 },
  { lat: 56.172939486, lng: 10.187946667 },
  { lat: 56.172946806, lng: 10.187943684 },
  { lat: 56.172946806, lng: 10.187943684 },
  { lat: 56.172950302, lng: 10.187938757 },
  { lat: 56.172950302, lng: 10.187938757 },
  { lat: 56.172956979, lng: 10.187941197 },
  { lat: 56.172956979, lng: 10.187941197 },
  { lat: 56.172955142, lng: 10.187939043 },
  { lat: 56.172955142, lng: 10.187939043 },
  { lat: 56.172951637, lng: 10.187932156 },
  { lat: 56.172951637, lng: 10.187932156 },
  { lat: 56.172953305, lng: 10.187938816 },
  { lat: 56.172953305, lng: 10.187938816 },
  { lat: 56.172950099, lng: 10.187927187 },
  { lat: 56.172950099, lng: 10.187927187 },
  { lat: 56.172950277, lng: 10.18792867 },
  { lat: 56.172950277, lng: 10.18792867 },
  { lat: 56.172951883, lng: 10.187948697 },
  { lat: 56.172951883, lng: 10.187948697 },
  { lat: 56.172953485, lng: 10.18796705 },
  { lat: 56.172953485, lng: 10.18796705 },
  { lat: 56.172951252, lng: 10.187943325 },
  { lat: 56.172951252, lng: 10.187943325 },
  { lat: 56.172954865, lng: 10.187930166 },
  { lat: 56.172954865, lng: 10.187930166 },
  { lat: 56.172954383, lng: 10.187921934 },
  { lat: 56.172954383, lng: 10.187921934 },
  { lat: 56.172948969, lng: 10.187906485 },
  { lat: 56.172948969, lng: 10.187906485 },
  { lat: 56.172948465, lng: 10.187897855 },
  { lat: 56.172948465, lng: 10.187897855 },
  { lat: 56.172949273, lng: 10.187889551 },
  { lat: 56.172949273, lng: 10.187889551 },
  { lat: 56.17295779, lng: 10.18788771 },
  { lat: 56.17295779, lng: 10.18788771 },
  { lat: 56.172953451, lng: 10.187878945 },
  { lat: 56.172953451, lng: 10.187878945 },
  { lat: 56.172951805, lng: 10.187867837 },
  { lat: 56.172951805, lng: 10.187867837 },
  { lat: 56.1729519, lng: 10.187870374 },
  { lat: 56.1729519, lng: 10.187870374 },
  { lat: 56.172967401, lng: 10.187905327 },
  { lat: 56.172967401, lng: 10.187905327 },
  { lat: 56.172970505, lng: 10.187902156 },
  { lat: 56.172970505, lng: 10.187902156 },
  { lat: 56.172972341, lng: 10.187882726 },
  { lat: 56.172972341, lng: 10.187882726 },
  { lat: 56.172974721, lng: 10.187845266 },
  { lat: 56.172974721, lng: 10.187845266 },
  { lat: 56.172980765, lng: 10.187830857 },
  { lat: 56.172980765, lng: 10.187830857 },
  { lat: 56.172993178, lng: 10.18781877 },
  { lat: 56.172993178, lng: 10.18781877 },
  { lat: 56.17299963, lng: 10.18780855 },
  { lat: 56.17299963, lng: 10.18780855 },
  { lat: 56.173006737, lng: 10.187810686 },
  { lat: 56.173006737, lng: 10.187810686 },
  { lat: 56.173015714, lng: 10.187802006 },
  { lat: 56.173015714, lng: 10.187802006 },
  { lat: 56.173007919, lng: 10.187782673 },
  { lat: 56.173007919, lng: 10.187782673 },
  { lat: 56.173000121, lng: 10.187773457 },
  { lat: 56.173000121, lng: 10.187773457 },
  { lat: 56.172996976, lng: 10.187775373 },
  { lat: 56.172996976, lng: 10.187775373 },
  { lat: 56.172988585, lng: 10.187782769 },
  { lat: 56.172988585, lng: 10.187782769 },
  { lat: 56.172984788, lng: 10.187783001 },
  { lat: 56.172984788, lng: 10.187783001 },
  { lat: 56.172984495, lng: 10.187783464 },
  { lat: 56.172984495, lng: 10.187783464 },
  { lat: 56.172985524, lng: 10.18777618 },
  { lat: 56.172985524, lng: 10.18777618 },
  { lat: 56.172986837, lng: 10.187771061 },
  { lat: 56.172986837, lng: 10.187771061 },
  { lat: 56.172985004, lng: 10.18778004 },
  { lat: 56.172985004, lng: 10.18778004 },
  { lat: 56.172983161, lng: 10.187775139 },
  { lat: 56.172983161, lng: 10.187775139 },
  { lat: 56.172981514, lng: 10.187772798 },
  { lat: 56.172981514, lng: 10.187772798 },
  { lat: 56.172980868, lng: 10.18777281 },
  { lat: 56.172980868, lng: 10.18777281 },
  { lat: 56.17298089, lng: 10.187773611 },
  { lat: 56.17298089, lng: 10.187773611 },
  { lat: 56.172980628, lng: 10.187774197 },
  { lat: 56.172980628, lng: 10.187774197 },
  { lat: 56.172979573, lng: 10.187776041 },
  { lat: 56.172979573, lng: 10.187776041 },
  { lat: 56.172979786, lng: 10.187777878 },
  { lat: 56.172979786, lng: 10.187777878 },
  { lat: 56.172979328, lng: 10.187780356 },
  { lat: 56.172979328, lng: 10.187780356 },
  { lat: 56.172979476, lng: 10.18778106 },
  { lat: 56.172979476, lng: 10.18778106 },
  { lat: 56.172978666, lng: 10.187785902 },
  { lat: 56.172978666, lng: 10.187785902 },
  { lat: 56.172978549, lng: 10.187789059 },
  { lat: 56.172978549, lng: 10.187789059 },
  { lat: 56.172978467, lng: 10.187791728 },
  { lat: 56.172978467, lng: 10.187791728 },
  { lat: 56.172977, lng: 10.18779462 },
  { lat: 56.172977, lng: 10.18779462 },
  { lat: 56.172975481, lng: 10.187797638 },
  { lat: 56.172975481, lng: 10.187797638 },
  { lat: 56.172974377, lng: 10.18779871 },
  { lat: 56.172974377, lng: 10.18779871 },
  { lat: 56.172973462, lng: 10.187798372 },
  { lat: 56.172973462, lng: 10.187798372 },
  { lat: 56.172973181, lng: 10.187798826 },
  { lat: 56.172973181, lng: 10.187798826 },
  { lat: 56.17297196, lng: 10.187800332 },
  { lat: 56.17297196, lng: 10.187800332 },
  { lat: 56.172971329, lng: 10.187799414 },
  { lat: 56.172971329, lng: 10.187799414 },
  { lat: 56.172970602, lng: 10.187801322 },
  { lat: 56.172970602, lng: 10.187801322 },
  { lat: 56.172970717, lng: 10.187800172 },
  { lat: 56.172970717, lng: 10.187800172 },
  { lat: 56.172969465, lng: 10.18780384 },
  { lat: 56.172969465, lng: 10.18780384 },
  { lat: 56.17296849, lng: 10.187807549 },
  { lat: 56.17296849, lng: 10.187807549 },
  { lat: 56.172967296, lng: 10.187808808 },
  { lat: 56.172967296, lng: 10.187808808 },
  { lat: 56.172966582, lng: 10.187809981 },
  { lat: 56.172966582, lng: 10.187809981 },
  { lat: 56.172966159, lng: 10.187810749 },
  { lat: 56.172966159, lng: 10.187810749 },
  { lat: 56.172966149, lng: 10.187811716 },
  { lat: 56.172966149, lng: 10.187811716 },
  { lat: 56.172965793, lng: 10.187813133 },
  { lat: 56.172965793, lng: 10.187813133 },
  { lat: 56.172964831, lng: 10.18781531 },
  { lat: 56.172964831, lng: 10.18781531 },
  { lat: 56.172963497, lng: 10.187816468 },
  { lat: 56.172963497, lng: 10.187816468 },
  { lat: 56.172961881, lng: 10.187817987 },
  { lat: 56.172961881, lng: 10.187817987 },
  { lat: 56.172961587, lng: 10.18781845 },
  { lat: 56.172961587, lng: 10.18781845 },
  { lat: 56.172959747, lng: 10.187823597 },
  { lat: 56.172959747, lng: 10.187823597 },
  { lat: 56.172958316, lng: 10.187836948 },
  { lat: 56.172958316, lng: 10.187836948 },
  { lat: 56.172958568, lng: 10.187859685 },
  { lat: 56.172958568, lng: 10.187859685 },
  { lat: 56.172964415, lng: 10.187880356 },
  { lat: 56.172964415, lng: 10.187880356 },
  { lat: 56.172977931, lng: 10.187893164 },
  { lat: 56.172977931, lng: 10.187893164 },
  { lat: 56.172988556, lng: 10.187908119 },
  { lat: 56.172988556, lng: 10.187908119 },
  { lat: 56.173001268, lng: 10.187918124 },
  { lat: 56.173001268, lng: 10.187918124 },
  { lat: 56.173009362, lng: 10.187927708 },
  { lat: 56.173009362, lng: 10.187927708 },
  { lat: 56.173015036, lng: 10.187950923 },
  { lat: 56.173015036, lng: 10.187950923 },
  { lat: 56.173016923, lng: 10.187980024 },
  { lat: 56.173016923, lng: 10.187980024 },
  { lat: 56.173017073, lng: 10.188010201 },
  { lat: 56.173017073, lng: 10.188010201 },
  { lat: 56.173008339, lng: 10.188044673 },
  { lat: 56.173008339, lng: 10.188044673 },
  { lat: 56.173002725, lng: 10.188078411 },
  { lat: 56.173002725, lng: 10.188078411 },
  { lat: 56.172999553, lng: 10.188116116 },
  { lat: 56.172999553, lng: 10.188116116 },
  { lat: 56.172993084, lng: 10.188152345 },
  { lat: 56.172993084, lng: 10.188152345 },
  { lat: 56.172986057, lng: 10.188180946 },
  { lat: 56.172986057, lng: 10.188180946 },
  { lat: 56.172977927, lng: 10.188205949 },
  { lat: 56.172977927, lng: 10.188205949 },
  { lat: 56.172975126, lng: 10.188230692 },
  { lat: 56.172975126, lng: 10.188230692 },
  { lat: 56.172980145, lng: 10.188256328 },
  { lat: 56.172980145, lng: 10.188256328 },
  { lat: 56.17298764, lng: 10.188280494 },
  { lat: 56.17298764, lng: 10.188280494 },
  { lat: 56.173004324, lng: 10.188314163 },
  { lat: 56.173004324, lng: 10.188314163 },
  { lat: 56.173028124, lng: 10.188331939 },
  { lat: 56.173028124, lng: 10.188331939 },
  { lat: 56.173056571, lng: 10.188353833 },
  { lat: 56.173056571, lng: 10.188353833 },
  { lat: 56.173085176, lng: 10.188379651 },
  { lat: 56.173085176, lng: 10.188379651 },
  { lat: 56.173115457, lng: 10.188389556 },
  { lat: 56.173115457, lng: 10.188389556 },
  { lat: 56.173146876, lng: 10.188403346 },
  { lat: 56.173146876, lng: 10.188403346 },
  { lat: 56.173177966, lng: 10.188416091 },
  { lat: 56.173177966, lng: 10.188416091 },
  { lat: 56.173211714, lng: 10.188431214 },
  { lat: 56.173211714, lng: 10.188431214 },
  { lat: 56.173240772, lng: 10.188444194 },
  { lat: 56.173240772, lng: 10.188444194 },
  { lat: 56.173265036, lng: 10.18845098 },
  { lat: 56.173265036, lng: 10.18845098 },
  { lat: 56.173293731, lng: 10.188464672 },
  { lat: 56.173293731, lng: 10.188464672 },
  { lat: 56.173320513, lng: 10.188478984 },
  { lat: 56.173320513, lng: 10.188478984 },
  { lat: 56.173349442, lng: 10.188498786 },
  { lat: 56.173349442, lng: 10.188498786 },
  { lat: 56.173378535, lng: 10.188506733 },
  { lat: 56.173378535, lng: 10.188506733 },
  { lat: 56.173407325, lng: 10.188521762 },
  { lat: 56.173407325, lng: 10.188521762 },
  { lat: 56.173435502, lng: 10.188540537 },
  { lat: 56.173435502, lng: 10.188540537 },
  { lat: 56.173463273, lng: 10.188557165 },
  { lat: 56.173463273, lng: 10.188557165 },
  { lat: 56.173484829, lng: 10.188569752 },
  { lat: 56.173484829, lng: 10.188569752 },
  { lat: 56.17350189, lng: 10.188580241 },
  { lat: 56.17350189, lng: 10.188580241 },
  { lat: 56.173514719, lng: 10.188590319 },
  { lat: 56.173514719, lng: 10.188590319 },
  { lat: 56.173535133, lng: 10.18860811 },
  { lat: 56.173535133, lng: 10.18860811 },
  { lat: 56.173553407, lng: 10.18864202 },
  { lat: 56.173553407, lng: 10.18864202 },
  { lat: 56.17357237, lng: 10.188694661 },
  { lat: 56.17357237, lng: 10.188694661 },
  { lat: 56.173581985, lng: 10.188755031 },
  { lat: 56.173581985, lng: 10.188755031 },
  { lat: 56.173587551, lng: 10.188827652 },
  { lat: 56.173587551, lng: 10.188827652 },
  { lat: 56.173584599, lng: 10.18890869 },
  { lat: 56.173584599, lng: 10.18890869 },
  { lat: 56.17357758, lng: 10.18900982 },
  { lat: 56.17357758, lng: 10.18900982 },
  { lat: 56.173568795, lng: 10.18911639 },
  { lat: 56.173568795, lng: 10.18911639 },
  { lat: 56.173555659, lng: 10.189242698 },
  { lat: 56.173555659, lng: 10.189242698 },
  { lat: 56.173541887, lng: 10.18936909 },
  { lat: 56.173541887, lng: 10.18936909 },
  { lat: 56.173520962, lng: 10.189513016 },
  { lat: 56.173520962, lng: 10.189513016 },
  { lat: 56.173497317, lng: 10.189666314 },
  { lat: 56.173497317, lng: 10.189666314 },
  { lat: 56.173476147, lng: 10.189827048 },
  { lat: 56.173476147, lng: 10.189827048 },
  { lat: 56.173456882, lng: 10.18999152 },
  { lat: 56.173456882, lng: 10.18999152 },
  { lat: 56.173438379, lng: 10.190159537 },
  { lat: 56.173438379, lng: 10.190159537 },
  { lat: 56.173416068, lng: 10.190317089 },
  { lat: 56.173416068, lng: 10.190317089 },
  { lat: 56.173394115, lng: 10.190468724 },
  { lat: 56.173394115, lng: 10.190468724 },
  { lat: 56.173370052, lng: 10.190616804 },
  { lat: 56.173370052, lng: 10.190616804 },
  { lat: 56.173348773, lng: 10.190754337 },
  { lat: 56.173348773, lng: 10.190754337 },
  { lat: 56.173328922, lng: 10.190875206 },
  { lat: 56.173328922, lng: 10.190875206 },
  { lat: 56.173315457, lng: 10.190959967 },
  { lat: 56.173315457, lng: 10.190959967 },
  { lat: 56.173302981, lng: 10.191031354 },
  { lat: 56.173302981, lng: 10.191031354 },
  { lat: 56.173292534, lng: 10.191086414 },
  { lat: 56.173292534, lng: 10.191086414 },
  { lat: 56.173281131, lng: 10.191117283 },
  { lat: 56.173281131, lng: 10.191117283 },
  { lat: 56.173270409, lng: 10.19115073 },
  { lat: 56.173270409, lng: 10.19115073 },
  { lat: 56.173270477, lng: 10.191163551 },
  { lat: 56.173270477, lng: 10.191163551 },
  { lat: 56.17326905, lng: 10.191164883 },
  { lat: 56.17326905, lng: 10.191164883 },
  { lat: 56.173272718, lng: 10.191163284 },
  { lat: 56.173272718, lng: 10.191163284 },
  { lat: 56.173272655, lng: 10.191162981 },
  { lat: 56.173272655, lng: 10.191162981 },
  { lat: 56.173275126, lng: 10.19116662 },
  { lat: 56.173275126, lng: 10.19116662 },
  { lat: 56.17326807, lng: 10.191165534 },
  { lat: 56.17326807, lng: 10.191165534 },
  { lat: 56.173251358, lng: 10.191173744 },
  { lat: 56.173251358, lng: 10.191173744 },
  { lat: 56.173225567, lng: 10.191176489 },
  { lat: 56.173225567, lng: 10.191176489 },
  { lat: 56.173195072, lng: 10.191160673 },
  { lat: 56.173195072, lng: 10.191160673 },
  { lat: 56.173160553, lng: 10.191154459 },
  { lat: 56.173160553, lng: 10.191154459 },
  { lat: 56.173126116, lng: 10.19114192 },
  { lat: 56.173126116, lng: 10.19114192 },
  { lat: 56.173083921, lng: 10.191131917 },
  { lat: 56.173083921, lng: 10.191131917 },
  { lat: 56.173038448, lng: 10.191112597 },
  { lat: 56.173038448, lng: 10.191112597 },
  { lat: 56.172997149, lng: 10.191100008 },
  { lat: 56.172997149, lng: 10.191100008 },
  { lat: 56.172961707, lng: 10.191097424 },
  { lat: 56.172961707, lng: 10.191097424 },
  { lat: 56.17292545, lng: 10.19109149 },
  { lat: 56.17292545, lng: 10.19109149 },
  { lat: 56.172882259, lng: 10.191071901 },
  { lat: 56.172882259, lng: 10.191071901 },
  { lat: 56.172830243, lng: 10.191052076 },
  { lat: 56.172830243, lng: 10.191052076 },
  { lat: 56.17278042, lng: 10.191034291 },
  { lat: 56.17278042, lng: 10.191034291 },
  { lat: 56.172729432, lng: 10.191026849 },
  { lat: 56.172729432, lng: 10.191026849 },
  { lat: 56.172680002, lng: 10.191016999 },
  { lat: 56.172680002, lng: 10.191016999 },
  { lat: 56.172632558, lng: 10.191015105 },
  { lat: 56.172632558, lng: 10.191015105 },
  { lat: 56.172588412, lng: 10.191014157 },
  { lat: 56.172588412, lng: 10.191014157 },
  { lat: 56.172538763, lng: 10.191005779 },
  { lat: 56.172538763, lng: 10.191005779 },
  { lat: 56.172502445, lng: 10.191002265 },
  { lat: 56.172502445, lng: 10.191002265 },
  { lat: 56.172463256, lng: 10.19099494 },
  { lat: 56.172463256, lng: 10.19099494 },
  { lat: 56.172420995, lng: 10.190982407 },
  { lat: 56.172420995, lng: 10.190982407 },
  { lat: 56.17236725, lng: 10.190956347 },
  { lat: 56.17236725, lng: 10.190956347 },
  { lat: 56.17232227, lng: 10.190946035 },
  { lat: 56.17232227, lng: 10.190946035 },
  { lat: 56.172277969, lng: 10.190938085 },
  { lat: 56.172277969, lng: 10.190938085 },
  { lat: 56.172241302, lng: 10.190921687 },
  { lat: 56.172241302, lng: 10.190921687 },
  { lat: 56.172207506, lng: 10.190903576 },
  { lat: 56.172207506, lng: 10.190903576 },
  { lat: 56.172171154, lng: 10.190901221 },
  { lat: 56.172171154, lng: 10.190901221 },
  { lat: 56.172139924, lng: 10.190913993 },
  { lat: 56.172139924, lng: 10.190913993 },
  { lat: 56.172105078, lng: 10.190919956 },
  { lat: 56.172105078, lng: 10.190919956 },
  { lat: 56.172067054, lng: 10.190918057 },
  { lat: 56.172067054, lng: 10.190918057 },
  { lat: 56.172032795, lng: 10.190911742 },
  { lat: 56.172032795, lng: 10.190911742 },
  { lat: 56.171995046, lng: 10.190902061 },
  { lat: 56.171995046, lng: 10.190902061 },
  { lat: 56.171958809, lng: 10.190891287 },
  { lat: 56.171958809, lng: 10.190891287 },
  { lat: 56.17192284, lng: 10.190885651 },
  { lat: 56.17192284, lng: 10.190885651 },
  { lat: 56.171877846, lng: 10.190847365 },
  { lat: 56.171877846, lng: 10.190847365 },
  { lat: 56.171834792, lng: 10.190780559 },
  { lat: 56.171834792, lng: 10.190780559 },
  { lat: 56.171790313, lng: 10.19071091 },
  { lat: 56.171790313, lng: 10.19071091 },
  { lat: 56.171744345, lng: 10.190662339 },
  { lat: 56.171744345, lng: 10.190662339 },
  { lat: 56.171701086, lng: 10.190620864 },
  { lat: 56.171701086, lng: 10.190620864 },
  { lat: 56.171656503, lng: 10.190582142 },
  { lat: 56.171656503, lng: 10.190582142 },
  { lat: 56.171610597, lng: 10.190560728 },
  { lat: 56.171610597, lng: 10.190560728 },
  { lat: 56.171573103, lng: 10.1905322 },
  { lat: 56.171573103, lng: 10.1905322 },
  { lat: 56.171547942, lng: 10.190517868 },
  { lat: 56.171547942, lng: 10.190517868 },
  { lat: 56.171522867, lng: 10.190504018 },
  { lat: 56.171522867, lng: 10.190504018 },
  { lat: 56.171502695, lng: 10.190489384 },
  { lat: 56.171502695, lng: 10.190489384 },
  { lat: 56.171487471, lng: 10.190453699 },
  { lat: 56.171487471, lng: 10.190453699 },
  { lat: 56.171478821, lng: 10.19041532 },
  { lat: 56.171478821, lng: 10.19041532 },
  { lat: 56.171473852, lng: 10.190369659 },
  { lat: 56.171473852, lng: 10.190369659 },
  { lat: 56.171476861, lng: 10.190322159 },
  { lat: 56.171476861, lng: 10.190322159 },
  { lat: 56.171484278, lng: 10.190248211 },
  { lat: 56.171484278, lng: 10.190248211 },
  { lat: 56.171491674, lng: 10.190184962 },
  { lat: 56.171491674, lng: 10.190184962 },
  { lat: 56.171503224, lng: 10.190104493 },
  { lat: 56.171503224, lng: 10.190104493 },
  { lat: 56.171516527, lng: 10.19003962 },
  { lat: 56.171516527, lng: 10.19003962 },
  { lat: 56.171531159, lng: 10.189980176 },
  { lat: 56.171531159, lng: 10.189980176 },
  { lat: 56.171544422, lng: 10.189916101 },
  { lat: 56.171544422, lng: 10.189916101 },
  { lat: 56.171557131, lng: 10.189849165 },
  { lat: 56.171557131, lng: 10.189849165 },
  { lat: 56.171568305, lng: 10.189773407 },
  { lat: 56.171568305, lng: 10.189773407 },
  { lat: 56.171578769, lng: 10.189706622 },
  { lat: 56.171578769, lng: 10.189706622 },
  { lat: 56.171590434, lng: 10.189639284 },
  { lat: 56.171590434, lng: 10.189639284 },
  { lat: 56.171602986, lng: 10.189571308 },
  { lat: 56.171602986, lng: 10.189571308 },
  { lat: 56.171617591, lng: 10.189502236 },
  { lat: 56.171617591, lng: 10.189502236 },
  { lat: 56.171631805, lng: 10.189430376 },
  { lat: 56.171631805, lng: 10.189430376 },
  { lat: 56.171638577, lng: 10.189358713 },
  { lat: 56.171638577, lng: 10.189358713 },
  { lat: 56.171652317, lng: 10.189284516 },
  { lat: 56.171652317, lng: 10.189284516 },
  { lat: 56.171666656, lng: 10.189213111 },
  { lat: 56.171666656, lng: 10.189213111 },
  { lat: 56.171670047, lng: 10.189138418 },
  { lat: 56.171670047, lng: 10.189138418 },
  { lat: 56.171681527, lng: 10.189069641 },
  { lat: 56.171681527, lng: 10.189069641 },
  { lat: 56.171692215, lng: 10.189003818 },
  { lat: 56.171692215, lng: 10.189003818 },
  { lat: 56.171703926, lng: 10.188938347 },
  { lat: 56.171703926, lng: 10.188938347 },
  { lat: 56.171716257, lng: 10.188871923 },
  { lat: 56.171716257, lng: 10.188871923 },
  { lat: 56.171723704, lng: 10.188808029 },
  { lat: 56.171723704, lng: 10.188808029 },
  { lat: 56.171733191, lng: 10.188751872 },
  { lat: 56.171733191, lng: 10.188751872 },
  { lat: 56.171753355, lng: 10.188701375 },
  { lat: 56.171753355, lng: 10.188701375 },
  { lat: 56.171759889, lng: 10.188640603 },
  { lat: 56.171759889, lng: 10.188640603 },
  { lat: 56.171766917, lng: 10.18859027 },
  { lat: 56.171766917, lng: 10.18859027 },
  { lat: 56.171784127, lng: 10.188528328 },
  { lat: 56.171784127, lng: 10.188528328 },
  { lat: 56.171788235, lng: 10.188465947 },
  { lat: 56.171788235, lng: 10.188465947 },
  { lat: 56.171793657, lng: 10.188400328 },
  { lat: 56.171793657, lng: 10.188400328 },
  { lat: 56.17180526, lng: 10.18834226 },
  { lat: 56.17180526, lng: 10.18834226 },
  { lat: 56.171814013, lng: 10.18828485 },
  { lat: 56.171814013, lng: 10.18828485 },
  { lat: 56.171826709, lng: 10.188225742 },
  { lat: 56.171826709, lng: 10.188225742 },
  { lat: 56.171829309, lng: 10.188179301 },
  { lat: 56.171829309, lng: 10.188179301 },
  { lat: 56.171834951, lng: 10.188135904 },
  { lat: 56.171834951, lng: 10.188135904 },
  { lat: 56.171858096, lng: 10.188094122 },
  { lat: 56.171858096, lng: 10.188094122 },
  { lat: 56.171868425, lng: 10.188055578 },
  { lat: 56.171868425, lng: 10.188055578 },
  { lat: 56.171882874, lng: 10.188020314 },
  { lat: 56.171882874, lng: 10.188020314 },
  { lat: 56.171903781, lng: 10.18798879 },
  { lat: 56.171903781, lng: 10.18798879 },
  { lat: 56.171929738, lng: 10.1879582 },
  { lat: 56.171929738, lng: 10.1879582 },
  { lat: 56.171958298, lng: 10.187950312 },
  { lat: 56.171958298, lng: 10.187950312 },
  { lat: 56.171992884, lng: 10.187964024 },
  { lat: 56.171992884, lng: 10.187964024 },
  { lat: 56.172015381, lng: 10.187984187 },
  { lat: 56.172015381, lng: 10.187984187 },
  { lat: 56.17203593, lng: 10.188008607 },
  { lat: 56.17203593, lng: 10.188008607 },
  { lat: 56.172069133, lng: 10.18802485 },
  { lat: 56.172069133, lng: 10.18802485 },
  { lat: 56.172117574, lng: 10.188031366 },
  { lat: 56.172117574, lng: 10.188031366 },
  { lat: 56.172153735, lng: 10.188040677 },
  { lat: 56.172153735, lng: 10.188040677 },
  { lat: 56.172187585, lng: 10.188068097 },
  { lat: 56.172187585, lng: 10.188068097 },
  { lat: 56.172227431, lng: 10.188078686 },
  { lat: 56.172227431, lng: 10.188078686 },
  { lat: 56.172280078, lng: 10.188097984 },
  { lat: 56.172280078, lng: 10.188097984 },
  { lat: 56.172348225, lng: 10.18811336 },
  { lat: 56.172348225, lng: 10.18811336 },
  { lat: 56.172400229, lng: 10.188123709 },
  { lat: 56.172400229, lng: 10.188123709 },
  { lat: 56.172468283, lng: 10.188140863 },
  { lat: 56.172468283, lng: 10.188140863 },
  { lat: 56.172551991, lng: 10.188162171 },
  { lat: 56.172551991, lng: 10.188162171 },
  { lat: 56.1725959, lng: 10.188178876 },
  { lat: 56.1725959, lng: 10.188178876 },
  { lat: 56.172624403, lng: 10.188209146 },
  { lat: 56.172624403, lng: 10.188209146 },
  { lat: 56.17264913, lng: 10.18822536 },
  { lat: 56.17264913, lng: 10.18822536 },
  { lat: 56.172663791, lng: 10.188234141 },
  { lat: 56.172663791, lng: 10.188234141 },
  { lat: 56.172678359, lng: 10.188240594 },
  { lat: 56.172678359, lng: 10.188240594 },
  { lat: 56.172694024, lng: 10.188243977 },
  { lat: 56.172694024, lng: 10.188243977 },
  { lat: 56.172708856, lng: 10.188245092 },
  { lat: 56.172708856, lng: 10.188245092 },
  { lat: 56.172731679, lng: 10.188248224 },
  { lat: 56.172731679, lng: 10.188248224 },
  { lat: 56.172751671, lng: 10.188234795 },
  { lat: 56.172751671, lng: 10.188234795 },
  { lat: 56.172774132, lng: 10.188209177 },
  { lat: 56.172774132, lng: 10.188209177 },
  { lat: 56.172793316, lng: 10.188166169 },
  { lat: 56.172793316, lng: 10.188166169 },
  { lat: 56.172807521, lng: 10.188118344 },
  { lat: 56.172807521, lng: 10.188118344 },
  { lat: 56.172822195, lng: 10.188059057 },
  { lat: 56.172822195, lng: 10.188059057 },
  { lat: 56.172842207, lng: 10.188007599 },
  { lat: 56.172842207, lng: 10.188007599 },
  { lat: 56.172855449, lng: 10.18795623 },
  { lat: 56.172855449, lng: 10.18795623 },
  { lat: 56.172868935, lng: 10.187913949 },
  { lat: 56.172868935, lng: 10.187913949 },
  { lat: 56.172874156, lng: 10.187869196 },
  { lat: 56.172874156, lng: 10.187869196 },
  { lat: 56.172875783, lng: 10.187841897 },
  { lat: 56.172875783, lng: 10.187841897 },
  { lat: 56.172866362, lng: 10.187834095 },
  { lat: 56.172866362, lng: 10.187834095 },
  { lat: 56.172855169, lng: 10.187817197 },
  { lat: 56.172855169, lng: 10.187817197 },
  { lat: 56.172847842, lng: 10.187804213 },
  { lat: 56.172847842, lng: 10.187804213 },
  { lat: 56.172834318, lng: 10.187802327 },
  { lat: 56.172834318, lng: 10.187802327 },
  { lat: 56.172824638, lng: 10.187804039 },
  { lat: 56.172824638, lng: 10.187804039 },
  { lat: 56.172819051, lng: 10.187803984 },
  { lat: 56.172819051, lng: 10.187803984 },
  { lat: 56.172818047, lng: 10.18780734 },
  { lat: 56.172818047, lng: 10.18780734 },
  { lat: 56.172824591, lng: 10.187828288 },
  { lat: 56.172824591, lng: 10.187828288 },
  { lat: 56.172828858, lng: 10.187830495 },
  { lat: 56.172828858, lng: 10.187830495 },
  { lat: 56.172840184, lng: 10.187840733 },
  { lat: 56.172840184, lng: 10.187840733 },
  { lat: 56.172851213, lng: 10.187847326 },
  { lat: 56.172851213, lng: 10.187847326 },
  { lat: 56.172866384, lng: 10.187840537 },
  { lat: 56.172866384, lng: 10.187840537 },
  { lat: 56.17287683, lng: 10.18783125 },
  { lat: 56.17287683, lng: 10.18783125 },
  { lat: 56.172883677, lng: 10.187820475 },
  { lat: 56.172883677, lng: 10.187820475 },
  { lat: 56.172888351, lng: 10.187811379 },
  { lat: 56.172888351, lng: 10.187811379 },
  { lat: 56.172890755, lng: 10.187810953 },
  { lat: 56.172890755, lng: 10.187810953 },
  { lat: 56.172893048, lng: 10.187813282 },
  { lat: 56.172893048, lng: 10.187813282 },
  { lat: 56.172895079, lng: 10.187815261 },
  { lat: 56.172895079, lng: 10.187815261 },
  { lat: 56.172897132, lng: 10.187816185 },
  { lat: 56.172897132, lng: 10.187816185 },
  { lat: 56.172899469, lng: 10.187811095 },
  { lat: 56.172899469, lng: 10.187811095 },
  { lat: 56.172902419, lng: 10.187806711 },
  { lat: 56.172902419, lng: 10.187806711 },
  { lat: 56.172907094, lng: 10.187803002 },
  { lat: 56.172907094, lng: 10.187803002 },
  { lat: 56.172912442, lng: 10.187799034 },
  { lat: 56.172912442, lng: 10.187799034 },
  { lat: 56.172918568, lng: 10.187802489 },
  { lat: 56.172918568, lng: 10.187802489 },
  { lat: 56.172921282, lng: 10.187800404 },
  { lat: 56.172921282, lng: 10.187800404 },
  { lat: 56.172915974, lng: 10.187813092 },
  { lat: 56.172915974, lng: 10.187813092 },
  { lat: 56.172912871, lng: 10.187827476 },
  { lat: 56.172912871, lng: 10.187827476 },
  { lat: 56.172916219, lng: 10.187839945 },
  { lat: 56.172916219, lng: 10.187839945 },
  { lat: 56.172912165, lng: 10.187846082 },
  { lat: 56.172912165, lng: 10.187846082 },
  { lat: 56.172907396, lng: 10.187843332 },
  { lat: 56.172907396, lng: 10.187843332 },
  { lat: 56.172903972, lng: 10.187847064 },
  { lat: 56.172903972, lng: 10.187847064 },
  { lat: 56.172890808, lng: 10.187854317 },
  { lat: 56.172890808, lng: 10.187854317 },
  { lat: 56.172887397, lng: 10.187860682 },
  { lat: 56.172887397, lng: 10.187860682 },
  { lat: 56.172883917, lng: 10.187867204 },
  { lat: 56.172883917, lng: 10.187867204 },
  { lat: 56.172884045, lng: 10.187872275 },
  { lat: 56.172884045, lng: 10.187872275 },
  { lat: 56.172880432, lng: 10.187875109 },
  { lat: 56.172880432, lng: 10.187875109 },
  { lat: 56.172874872, lng: 10.187876468 },
  { lat: 56.172874872, lng: 10.187876468 },
  { lat: 56.172867735, lng: 10.187874637 },
  { lat: 56.172867735, lng: 10.187874637 },
  { lat: 56.172864906, lng: 10.187863775 },
  { lat: 56.172864906, lng: 10.187863775 },
  { lat: 56.172863462, lng: 10.187860247 },
  { lat: 56.172863462, lng: 10.187860247 },
  { lat: 56.172862999, lng: 10.187856057 },
  { lat: 56.172862999, lng: 10.187856057 },
  { lat: 56.172859113, lng: 10.187851861 },
  { lat: 56.172859113, lng: 10.187851861 },
  { lat: 56.17285548, lng: 10.187838415 },
  { lat: 56.17285548, lng: 10.187838415 },
  { lat: 56.172850522, lng: 10.187841574 },
  { lat: 56.172850522, lng: 10.187841574 },
  { lat: 56.172849772, lng: 10.187843742 },
  { lat: 56.172849772, lng: 10.187843742 },
  { lat: 56.172845602, lng: 10.187838247 },
  { lat: 56.172845602, lng: 10.187838247 },
  { lat: 56.172833768, lng: 10.187818894 },
  { lat: 56.172833768, lng: 10.187818894 },
  { lat: 56.172828999, lng: 10.187821509 },
  { lat: 56.172828999, lng: 10.187821509 },
  { lat: 56.172837435, lng: 10.187823709 },
  { lat: 56.172837435, lng: 10.187823709 },
  { lat: 56.172843098, lng: 10.187817286 },
  { lat: 56.172843098, lng: 10.187817286 },
  { lat: 56.172844278, lng: 10.18782839 },
  { lat: 56.172844278, lng: 10.18782839 },
  { lat: 56.172837592, lng: 10.187837599 },
  { lat: 56.172837592, lng: 10.187837599 },
  { lat: 56.172830648, lng: 10.187842549 },
  { lat: 56.172830648, lng: 10.187842549 },
  { lat: 56.172830087, lng: 10.187864603 },
  { lat: 56.172830087, lng: 10.187864603 },
  { lat: 56.172828699, lng: 10.187879878 },
  { lat: 56.172828699, lng: 10.187879878 },
  { lat: 56.172829453, lng: 10.187885209 },
  { lat: 56.172829453, lng: 10.187885209 },
  { lat: 56.172832186, lng: 10.187891226 },
  { lat: 56.172832186, lng: 10.187891226 },
  { lat: 56.172829977, lng: 10.18788548 },
  { lat: 56.172829977, lng: 10.18788548 },
  { lat: 56.172838148, lng: 10.187882382 },
  { lat: 56.172838148, lng: 10.187882382 },
  { lat: 56.172843283, lng: 10.187879218 },
  { lat: 56.172843283, lng: 10.187879218 },
  { lat: 56.172845812, lng: 10.187877182 },
  { lat: 56.172845812, lng: 10.187877182 },
  { lat: 56.172857008, lng: 10.187870156 },
  { lat: 56.172857008, lng: 10.187870156 },
  { lat: 56.172857675, lng: 10.18787001 },
  { lat: 56.172857675, lng: 10.18787001 },
  { lat: 56.172864976, lng: 10.187881961 },
  { lat: 56.172864976, lng: 10.187881961 },
  { lat: 56.172859328, lng: 10.187887303 },
  { lat: 56.172859328, lng: 10.187887303 },
  { lat: 56.17286047, lng: 10.187888478 },
  { lat: 56.17286047, lng: 10.187888478 },
  { lat: 56.172852223, lng: 10.187893196 },
  { lat: 56.172852223, lng: 10.187893196 },
  { lat: 56.172845404, lng: 10.187894657 },
  { lat: 56.172845404, lng: 10.187894657 },
  { lat: 56.172844977, lng: 10.187897984 },
  { lat: 56.172844977, lng: 10.187897984 },
  { lat: 56.172842868, lng: 10.187893368 },
  { lat: 56.172842868, lng: 10.187893368 },
  { lat: 56.172840261, lng: 10.187894497 },
  { lat: 56.172840261, lng: 10.187894497 },
  { lat: 56.172832784, lng: 10.187899082 },
  { lat: 56.172832784, lng: 10.187899082 },
  { lat: 56.172821341, lng: 10.187913803 },
  { lat: 56.172821341, lng: 10.187913803 },

  //BIL 2
  { lat: 56.172986, lng: 10.188303 },
  { lat: 56.173001, lng: 10.188313 },
];

let magnusArray2 = [
  // { lat: 56.171285731, lng: 10.187706793 },
  // { lat: 56.172110442, lng: 10.187909752 },
];

document.addEventListener("DOMContentLoaded", init);

function init() {
  console.log("DOM fully loaded. Running fetchParkingSpots...");
  fetchParkingSpots();
  setupTileLayer();
  drawWalkingCircles();
}

// Fetch parking data from API
async function fetchParkingSpots() {
  try {
    const response = await fetch("http://localhost:8000/getParkingSpots");
    if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);

    const data = await response.json();

    // Extract all parking spots from nested structure
    parkingSpots = extractParkingSpots(data.parkingSpots);


    registerdCars = data.registeredCarsData;
    console.log("registedCars", registerdCars);
    
    
    console.log("Total parking spots fetched:", parkingSpots.length);
    updateParkingSpots();
  } catch (error) {
    console.error("Error fetching parking spots:", error);
  }
}

// Extract parking spots from nested JSON structurefunction
function extractParkingSpots(data) {
  let spots = []; // This will store all the parking spots

  Object.values(data).forEach((street) => {
    // Loop through each street

    Object.values(street).forEach((directionArray) => {
      // Loop through each directionArray

      spots.push(...directionArray);
      // Spread and add all parking spots to the final array
    });
  });

  return spots;
}

// Update displayed parking spots
function updateParkingSpots() {
  if (parkingSpots.length === 0) {
    return console.warn("No parking spots found!");
  }

  // Remove existing circles
  Object.values(parkingCircles).forEach((circle) => map.removeLayer(circle));
  parkingCircles = {}; // Clear previous circles

  // Create new circles
  parkingSpots.forEach(({ latitude, longitude, spotID, occupied }) => {
    parkingCircles[spotID] = createParkingCircle(
      latitude,
      longitude,
      spotID,
      occupied
    );
  });

  console.log("Updated parking spots on the map.");
}

// Function that creates a circle for a parking spot
function createParkingCircle(lat, lng, spotID, occupied) {
  const color = occupied ? "red" : "blue";

  return L.circle([lat, lng], {
    color,
    fillColor: color === "red" ? "#f03" : "#3388ff",
    fillOpacity: 0.5,
    radius: 2,
  }).addTo(map);
}

// Set up tile layer for the map
function setupTileLayer() {
  L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 30,
    attribution:
      '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
  }).addTo(map);
}

// Handle map click event
var popup = L.popup();
function onMapClick(e) {
  popup
    .setLatLng(e.latlng)
    .setContent("You clicked the map at " + e.latlng.toString())
    .openOn(map);
}
map.on("click", onMapClick);

//Walking circles
function walkingCircles(lat, lng) {
  var circle = L.circle([lat, lng], {
    color: "black",
    fillColor: "black",
    fillOpacity: 0.5,
    radius: 1,
  }).addTo(map);
}

function drawWalkingCircles() {
  walkingCoordsArray.forEach((coord) => {
    walkingCircles(coord.lat, coord.lng);
  });
  googleCoordsArray.forEach((coords) => {
    googleCircles(coords.lat, coords.lng);
  });

  magnusArray1.forEach((coords) => {
    magnusCircles1(coords.lat, coords.lng);
  });
  magnusArray2.forEach((coords) => {
    magnusCircles2(coords.lat, coords.lng);
  });
}

//Walking circles
function googleCircles(lat, lng) {
  var circle = L.circle([lat, lng], {
    color: "orange",
    fillColor: "orange",
    fillOpacity: 0.5,
    radius: 1,
  }).addTo(map);
}

function magnusCircles1(lat, lng) {
  var circle = L.circle([lat, lng], {
    color: "red",
    fillColor: "red",
    fillOpacity: 0.5,
    radius: 1,
  }).addTo(map);
}

function magnusCircles2(lat, lng) {
  var circle = L.circle([lat, lng], {
    color: "green",
    fillColor: "green",
    fillOpacity: 0.5,
    radius: 1,
  }).addTo(map);
}
